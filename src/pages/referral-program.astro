---
import PageLayout from '../layouts/PageLayout.astro';
import HeroSection from '../components/HeroSection.astro';
---

<PageLayout
  title="Referral Program"
  description="Earn 10% commission on the first invoice when you refer clients to Natred. Simple, transparent referral program for IT services."
>
  <HeroSection
    title="Earn 10% on Referrals"
    subtitle="Simple, transparent referral rewards"
    description="Know a business that needs IT support? Refer them to us and earn 10% of their first invoice. No complicated tiers, no hoops to jump through."
    compact={true}
    showCta={false}
  />

  <section class="section section-dark">
    <div class="container">
      <h2 class="section-title animate-on-scroll fade-up">How It Works</h2>
      <div class="steps-grid stagger-children">
        <div class="step-card">
          <div class="step-number">1</div>
          <h3>Refer a Client</h3>
          <p>Tell us about a business that needs IT support. Email us their details or have them mention your name when they contact us.</p>
        </div>
        <div class="step-connector">
          <svg viewBox="0 0 60 24" fill="none">
            <path d="M 0 12 L 50 12 M 45 6 L 55 12 L 45 18" stroke="#f26722" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="step-card">
          <div class="step-number">2</div>
          <h3>They Sign Up</h3>
          <p>We talk to them, understand their needs, and they decide to work with us. No pressure, just honest assessment of how we can help.</p>
        </div>
        <div class="step-connector">
          <svg viewBox="0 0 60 24" fill="none">
            <path d="M 0 12 L 50 12 M 45 6 L 55 12 L 45 18" stroke="#f26722" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="step-card">
          <div class="step-number">3</div>
          <h3>You Get Paid</h3>
          <p>Once they pay their first invoice, you receive 10% commission. We pay within 14 days of receiving payment.</p>
        </div>
      </div>
    </div>
  </section>

  <section class="section section-charcoal">
    <div class="container">
      <div class="example-section animate-on-scroll fade-up">
        <div class="accent-line accent-line-center"></div>
        <h2>Example Payouts</h2>
        <p class="example-intro">Here's what you could earn based on typical first invoices:</p>

        <div class="payout-grid">
          <div class="payout-card">
            <span class="payout-label">Small project</span>
            <span class="payout-invoice">R10,000 invoice</span>
            <span class="payout-amount">R1,000</span>
            <span class="payout-note">Your commission</span>
          </div>
          <div class="payout-card featured">
            <span class="payout-label">Migration project</span>
            <span class="payout-invoice">R50,000 invoice</span>
            <span class="payout-amount">R5,000</span>
            <span class="payout-note">Your commission</span>
          </div>
          <div class="payout-card">
            <span class="payout-label">Infrastructure setup</span>
            <span class="payout-invoice">R100,000 invoice</span>
            <span class="payout-amount">R10,000</span>
            <span class="payout-note">Your commission</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="section section-dark">
    <div class="container">
      <div class="terms-section">
        <div class="terms-content animate-on-scroll fade-up">
          <div class="accent-line"></div>
          <h2>Terms & Conditions</h2>
          <div class="terms-list">
            <div class="term-item">
              <h4>Eligibility</h4>
              <p>Anyone can refer clients to us. You don't need to be a registered partner or sign any agreements. Just send us the referral.</p>
            </div>
            <div class="term-item">
              <h4>Commission Rate</h4>
              <p>10% of the first invoice, paid after we receive payment from the client. This applies to the first invoice only, not ongoing work.</p>
            </div>
            <div class="term-item">
              <h4>Valid Referrals</h4>
              <p>The client must be new to Natred and must mention your referral when they contact us (or you can introduce them directly). We'll confirm the referral with you.</p>
            </div>
            <div class="term-item">
              <h4>Payment</h4>
              <p>Commission paid via EFT within 14 days of receiving client payment. We'll need your banking details and a valid invoice from you (or we can do a simple receipt).</p>
            </div>
            <div class="term-item">
              <h4>Exclusions</h4>
              <p>This program is for new referrals only. Existing Natred clients have access to their own exclusive referral program.</p>
            </div>
          </div>
        </div>

        <div class="cta-sidebar animate-on-scroll fade-left">
          <div class="cta-card">
            <h3>Ready to Refer?</h3>
            <p>Send us the client's details or introduce them directly. Make sure they know to mention your name.</p>
            <button class="btn btn-primary btn-lg" data-open-contact-modal>Submit a Referral</button>
          </div>

          <div class="contact-card">
            <h4>Questions?</h4>
            <p>Not sure if a referral qualifies? Just ask. We're happy to clarify before you make an introduction.</p>
            <a href="mailto:service@natred.com" class="contact-link">service@natred.com</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="section section-charcoal">
    <div class="container">
      <div class="faq-section animate-on-scroll fade-up">
        <h2 class="section-title">Common Questions</h2>
        <div class="faq-grid">
          <div class="faq-item">
            <h4>What if the client doesn't sign immediately?</h4>
            <p>No problem. We track referrals for 90 days. If they sign up within that window, you still get the commission.</p>
          </div>
          <div class="faq-item">
            <h4>Can I refer multiple clients?</h4>
            <p>Absolutely. There's no limit. Each valid referral earns 10% of that client's first invoice.</p>
          </div>
          <div class="faq-item">
            <h4>Do I need to invoice you?</h4>
            <p>If you're a registered business, yesâ€”we'll need an invoice. If not, we can work out a simple receipt arrangement.</p>
          </div>
          <div class="faq-item">
            <h4>What counts as a "first invoice"?</h4>
            <p>The first invoice we send after they become a client. Could be a project, could be the first month of a support contract. Whatever comes first.</p>
          </div>
        </div>
      </div>
    </div>
  </section>
</PageLayout>

<style>
  .steps-grid {
    display: grid;
    grid-template-columns: 1fr auto 1fr auto 1fr;
    align-items: center;
    gap: 20px;
  }

  .step-card {
    background: var(--charcoal);
    border: 1px solid var(--dark-gray);
    padding: 35px;
    text-align: center;
    transition: border-color 0.1s ease-out;
  }

  .step-card:hover {
    border-color: var(--natred-orange);
  }

  .step-number {
    width: 50px;
    height: 50px;
    background: var(--natred-orange);
    color: var(--white);
    font-size: 24px;
    font-weight: 700;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 20px;
  }

  .step-card h3 {
    font-size: 20px;
    margin-bottom: 12px;
    color: var(--white);
  }

  .step-card p {
    color: var(--light-gray);
    line-height: 1.6;
  }

  .step-connector {
    width: 60px;
    flex-shrink: 0;
  }

  .example-section {
    text-align: center;
    max-width: 900px;
    margin: 0 auto;
  }

  .example-section h2 {
    margin-bottom: 15px;
  }

  .example-intro {
    color: var(--light-gray);
    margin-bottom: 40px;
  }

  .payout-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 25px;
  }

  .payout-card {
    background: var(--dark-gray);
    border: 1px solid var(--dark-gray);
    border-radius: var(--radius-md);
    padding: 30px;
    text-align: center;
    transition: all var(--transition-normal);
  }

  .payout-card:hover {
    border-color: var(--natred-orange);
  }

  .payout-card.featured {
    border-color: var(--natred-orange);
    background: linear-gradient(135deg, var(--dark-gray), rgba(242, 103, 34, 0.1));
    transform: scale(1.05);
  }

  .payout-label {
    display: block;
    color: var(--light-gray);
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 10px;
  }

  .payout-invoice {
    display: block;
    color: var(--white);
    font-size: 16px;
    margin-bottom: 15px;
  }

  .payout-amount {
    display: block;
    color: var(--natred-orange);
    font-size: 36px;
    font-weight: 700;
    margin-bottom: 5px;
  }

  .payout-note {
    display: block;
    color: var(--light-gray);
    font-size: 14px;
  }

  .terms-section {
    display: grid;
    grid-template-columns: 1.5fr 1fr;
    gap: 60px;
    align-items: start;
  }

  .terms-content h2 {
    margin-bottom: 30px;
  }

  .terms-list {
    display: flex;
    flex-direction: column;
    gap: 25px;
  }

  .term-item {
    padding-bottom: 25px;
    border-bottom: 1px solid var(--dark-gray);
  }

  .term-item:last-child {
    border-bottom: none;
    padding-bottom: 0;
  }

  .term-item h4 {
    color: var(--white);
    font-size: 16px;
    margin-bottom: 10px;
  }

  .term-item p {
    color: var(--light-gray);
    line-height: 1.7;
  }

  .cta-sidebar {
    display: flex;
    flex-direction: column;
    gap: 25px;
    position: sticky;
    top: 120px;
  }

  .cta-card {
    background: var(--charcoal);
    border: 1px solid var(--dark-gray);
    border-left: 3px solid var(--natred-orange);
    border-radius: var(--radius-md);
    padding: 30px;
    text-align: center;
  }

  .cta-card h3 {
    margin-bottom: 12px;
  }

  .cta-card p {
    color: var(--light-gray);
    margin-bottom: 20px;
    font-size: 15px;
  }

  .contact-card {
    background: var(--charcoal);
    border: 1px solid var(--dark-gray);
    border-radius: var(--radius-md);
    padding: 25px;
  }

  .contact-card h4 {
    font-size: 16px;
    margin-bottom: 10px;
  }

  .contact-card p {
    color: var(--light-gray);
    font-size: 14px;
    margin-bottom: 15px;
  }

  .contact-link {
    color: var(--natred-orange);
    font-weight: 500;
    transition: color var(--transition-fast);
  }

  .contact-link:hover {
    color: var(--white);
  }

  .faq-section {
    max-width: 900px;
    margin: 0 auto;
  }

  .faq-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 30px;
  }

  .faq-item {
    background: var(--dark-gray);
    border-radius: var(--radius-md);
    padding: 25px;
  }

  .faq-item h4 {
    color: var(--white);
    font-size: 16px;
    margin-bottom: 12px;
  }

  .faq-item p {
    color: var(--light-gray);
    line-height: 1.6;
  }

  @media (max-width: 768px) {
    .steps-grid {
      grid-template-columns: 1fr;
    }

    .step-connector {
      transform: rotate(90deg);
      width: 40px;
      justify-self: center;
    }

    .payout-grid {
      grid-template-columns: 1fr;
    }

    .payout-card.featured {
      transform: none;
    }

    .terms-section {
      grid-template-columns: 1fr;
      gap: 40px;
    }

    .cta-sidebar {
      position: static;
    }

    .faq-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
